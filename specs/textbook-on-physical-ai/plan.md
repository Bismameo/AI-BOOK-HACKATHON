# Implementation Plan: Physical AI and Humanoid Robots Textbook

**Branch**: `feat/textbook-on-physical-ai` | **Date**: 2026-01-03 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `specs/textbook-on-physical-ai/spec.md`

## Summary

This plan outlines the technical approach for creating a comprehensive textbook on Physical AI and Humanoid Robots. The project will use a spec-driven workflow, leveraging Gemini for AI-assisted content generation, a RAG pipeline with Neon DB for factual accuracy, and Docusaurus for hosting the final interactive textbook. The plan covers initial setup, a phased chapter-by-chapter content generation strategy, and final assembly and review.

## Technical Context

**Language/Version**: Python 3.10+, Node.js 18+
**Primary Dependencies**: `google-generativeai`, `psycopg2-binary`, `pgvector`, Docusaurus v3
**Storage**: Neon DB (Postgres) with the `pgvector` extension for the RAG knowledge base; Markdown files in a Git repository for the content.
**Testing**: Manual SME review for factual accuracy of all generated content; automated Markdown linting to ensure format consistency.
**Target Platform**: Web (via Docusaurus static site generation).
**Project Type**: Documentation / Content Generation.
**Performance Goals**: N/A (Content generation is an offline process). Website performance will be standard Docusaurus performance.
**Constraints**: Must adhere to specified Node.js/Python versions. All factual claims must be traceable to the RAG knowledge base.
**Scale/Scope**: 10-12 chapters, ~150-200 pages, including at least 10 diagrams and 15 code snippets.

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

*   [x] **Purpose and Scope**: The plan aligns with the textbook's defined purpose, audience, and scope.
*   [x] **Tone and Style**: The generation process will be guided by prompts enforcing the educational, clear, and inclusive tone.
*   [x] **Accuracy and Factuality**: The plan explicitly includes a RAG pipeline and a mandatory SME review step.
*   [x) **Structure and Format**: The plan's output is structured for Docusaurus and a 10-12 chapter format.
*   [x] **Ethics and Responsibility**: An ethics chapter is included in the content generation phase.
*   [x] **Technical and Practical Focus**: The plan includes generation of code snippets and diagrams.
*   [x] **Generation and Maintenance**: The plan is iterative and version-controlled in Git.

## Project Structure

### Documentation (this feature)

```text
specs/textbook-on-physical-ai/
├── plan.md              # This file
├── spec.md              # The feature specification
└── tasks.md             # To be generated by /sp.tasks
```

### Source Code (repository root)

```text
/ (root)
├── scripts/
│   ├── rag.py             # Python script to populate and query the Neon DB knowledge base
│   └── generate.py        # Main Python script to generate a chapter using RAG and Gemini
└── textbook/              # Docusaurus project root
    ├── docs/              # Target directory for final, generated Markdown files
    │   ├── 01-introduction.md
    │   ├── 02-hardware.md
    │   └── etc...
    ├── docusaurus.config.js
    ├── sidebars.js
    └── package.json
```

**Structure Decision**: A hybrid structure is chosen. A top-level `scripts/` directory will house the Python-based content generation workflow, keeping it separate from the Docusaurus project in `textbook/`, which will consume the generated Markdown files. This separation of concerns makes the generation pipeline independent and portable.

## Logical Plan & Dependencies

### Phase 1: Foundation (Setup & Prerequisites)
*Goal: Prepare the environment for content generation.*
1.  **Setup Neon DB**: Create the database and enable the `pgvector` extension.
2.  **Populate Knowledge Base**: Collect initial source documents (papers, articles) and use `scripts/rag.py` to process and embed them into Neon DB.
3.  **Setup Docusaurus**: Initialize the Docusaurus project in the `textbook/` directory.
4.  **Develop Generation Script**: Create the `scripts/generate.py` script that takes a chapter topic, uses `rag.py` to get context, and calls the Gemini API to write the Markdown file.

### Phase 2: Content Generation (Iterative)
*Goal: Generate the core content for the textbook, chapter by chapter.*
*Dependency: Phase 1 must be complete.*
1.  **Chapter 1: Introduction to AI in the Physical World**
2.  **Chapter 2: Robot Hardware, Sensors, and Actuators**
3.  **Chapter 3: Principles of Perception & Locomotion**
4.  **Chapter 4: Core ML Algorithms for Robotics (RL, CV)**
5.  **Chapter 5: Case Studies (Tesla Optimus, Honda Asimo, etc.)** - *Depends on chapters 2-4.*
6.  **Chapter 6: Ethics and Safety in Robotics**
7.  **Chapter 7: Future Trends and Open Challenges**
8.  **Chapter 8: Glossary of Terms**

### Phase 3: Assembly, Review, and Deployment
*Goal: Assemble the final textbook and publish it.*
1.  **Assemble**: Move all generated Markdown files into the `textbook/docs/` directory.
2.  **Configure Sidebar**: Update `textbook/sidebars.js` to reflect the final chapter order and structure.
3.  **SME Review**: A Subject Matter Expert reviews every chapter for technical accuracy and clarity, per `spec.md` (SC-003). Edits are made directly to the Markdown files.
4.  **Deploy**: Build the Docusaurus site (`npm run build`) and deploy it to the chosen hosting platform (e.g., GitHub Pages).

## Complexity Tracking

> No violations of the constitution were identified. This section is not required.
